"""
ç”Ÿè‚–é¢„æµ‹20æœŸè®°å½•æ˜¾ç¤ºæ¼”ç¤º
å±•ç¤ºä¿®æ”¹åçš„æ•ˆæœ
"""

from zodiac_predictor import ZodiacPredictor

def demo():
    """æ¼”ç¤ºä¿®æ”¹åçš„æ•ˆæœ"""
    print("="*80)
    print("ç”Ÿè‚–é¢„æµ‹ - æœ€è¿‘20æœŸè®°å½•æ˜¾ç¤ºæ¼”ç¤º")
    print("="*80)
    print()
    print("ğŸ“ ä¼˜åŒ–è¯´æ˜:")
    print("  1. å°†'æœ€è¿‘10æœŸé¢„æµ‹è®°å½•'æ”¹ä¸º'æœ€è¿‘20æœŸé¢„æµ‹è®°å½•'")
    print("  2. æ˜¾ç¤ºæ‰€æœ‰20æœŸçš„è¯¦ç»†è®°å½•ï¼ˆè€Œéåªæ˜¾ç¤ºæœ€å10æœŸï¼‰")
    print("  3. æ¯æœŸæ˜¾ç¤ºï¼šæœŸæ•° + å®é™…å·ç å’Œç”Ÿè‚– + å‘½ä¸­çŠ¶æ€ + é¢„æµ‹TOP5åˆ—è¡¨")
    print("  4. ç§»é™¤å·ç å‘½ä¸­ä¿¡æ¯ï¼Œé‡ç‚¹å±•ç¤ºç”Ÿè‚–é¢„æµ‹TOP5")
    print()
    print("-"*80)
    print()
    
    predictor = ZodiacPredictor()
    validation = predictor.get_recent_20_validation('data/lucky_numbers.csv')
    
    if not validation:
        print("âŒ æ— æ³•è·å–éªŒè¯æ•°æ®")
        return
    
    # æ¨¡æ‹ŸGUIçš„æ˜¾ç¤ºæ ¼å¼
    print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
    print("â”‚  ğŸ“Š æœ€è¿‘20æœŸéªŒè¯è¯¦æƒ…:                                   â”‚")
    print("â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤")
    print(f"â”‚  ç”Ÿè‚–TOP5æˆåŠŸç‡: {validation['zodiac_top5_rate']:.1f}% ({validation['zodiac_top5_hits']}/20)                     â”‚")
    print(f"â”‚  å·ç TOP15æˆåŠŸç‡: {validation['number_top15_rate']:.1f}% ({validation['number_top15_hits']}/20)                    â”‚")
    print("â”‚                                                         â”‚")
    print("â”‚  æœ€è¿‘20æœŸé¢„æµ‹è®°å½•:                                      â”‚")
    print("â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤")
    
    recent_20 = validation['details']
    for detail in recent_20:
        period = detail['æœŸæ•°']
        actual_zodiac = detail['å®é™…ç”Ÿè‚–']
        actual_num = detail['å®é™…å·ç ']
        zodiac_hit = detail['ç”Ÿè‚–å‘½ä¸­']
        predicted_top5 = detail['é¢„æµ‹ç”Ÿè‚–TOP5']
        
        # å±•ç¤ºæ¯æœŸçš„è¯¦ç»†é¢„æµ‹ç»“æœï¼šå®é™…ç»“æœã€å‘½ä¸­çŠ¶æ€ã€é¢„æµ‹TOP5
        print(f"â”‚  ç¬¬{period:3d}æœŸ: {actual_num:2d}å·({actual_zodiac}) {zodiac_hit:<10s}                         â”‚")
        print(f"â”‚        é¢„æµ‹â†’ {predicted_top5:<43s}â”‚")
    
    print("â”‚                                                         â”‚")
    print("â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜")
    print()
    print("âœ… æ¼”ç¤ºå®Œæˆï¼")
    print()
    print("ğŸ’¡ åœ¨GUIä¸­ä½¿ç”¨ç”Ÿè‚–é¢„æµ‹åŠŸèƒ½æ—¶ï¼Œå°†çœ‹åˆ°ä»¥ä¸Šæ ¼å¼çš„è¾“å‡ºã€‚")
    print("   åŒ…å«å®Œæ•´çš„20æœŸé¢„æµ‹è®°å½•ï¼Œæ¯æœŸéƒ½æ˜¾ç¤ºè¯¦ç»†çš„é¢„æµ‹ç»“æœã€‚")
    print()


if __name__ == '__main__':
    demo()
